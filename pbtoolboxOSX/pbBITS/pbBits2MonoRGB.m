function rgb = pbBits2MonoRGB(bitsnumber)% rgb = pbBits2MonoRGB(bitsnumber)% Converts a bits value ranging from 0 to 2^14-1 to an RGB value% In MONO mode, the BITS++ box displays luminances with 14-bit resolution.% The luminance value is packed into the 8 bits of the RED gun, and the% high 6 bits of the GREEN gun. BLUE is zero. This function takes the bits% number and packs everything correctly.%% 3-June-2008   :   wrote it (pjb)% rgb=zeros(1,3);% rgb(1) = floor(bitsnumber/256);% rgb(2) = rem(bitsnumber,256);[nr,nc]=size(bitsnumber);if (min([nr,nc])==1)    bitsnumber = bitsnumber*4; % rotate 2 bits because the BITS box ignores the 2 lowest bits    rgb=zeros(length(bitsnumber),3);    % rgb(:,1) = floor(bitsnumber/256);    rgb(:,1) = floor(bitsnumber/256);    rgb(:,2) = rem(bitsnumber,256);else    bitsnumber = bitsnumber*4; % rotate 2 bits because the BITS box ignores the 2 lowest bits    rgb=zeros(nr,nc,3);    % rgb(:,1) = floor(bitsnumber/256);    rgb(:,:,1) = floor(bitsnumber/256);    rgb(:,:,2) = rem(bitsnumber,256);end;