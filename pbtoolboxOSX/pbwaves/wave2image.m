function theImage=wave2image(inwave,o)%% theImage=wave2image(inputvector,orientation)% Uses a vector, inwave, to create a 2D matrix, theImage.% Orientation (deg) is the orienation of the 2D matrix.% Horizontal (0 deg) and vertical(90 deg) are fast; other orientations are slow.% !!!! N.B. This function assumes that the input wave is a >>ROW VECTOR<<. !!!!%if (nargin<2)	disp('ERROR IN wave2image: The function requires 2 input parameters.');	theImage=NaN;	return;end;nc=length(inwave);if (o==90.0)	theImage=ones(1,nc)'*inwave;end;if (o==0.0)	theImage=inwave'*ones(1,nc);end;if ((o~=90)&(o~=0))	theImage=inwave'*ones(1,nc);	inwave=imrotate(theImage,o);	[tr,tc]=size(inwave);	trect=setrect(0,0,tc,tr);	irect=setrect(0,0,nc-1,nr-1);	irect=centerrect(irect,trect);	T=irect(recttop);	B=irect(rectbottom);	L=irect(rectleft);	R=irect(rectright);	theImage=inwave(T:B,L:R);end;return;