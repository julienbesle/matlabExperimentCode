function trialsrc = mkconstim( levels, trialsperlevel, id )% MKCONSTIM  Make a method of constant stimuli trial source.%% trialsrc = mkconstim( levels, trialsperlevel, id )% 20-Apr-98 -- created (RFM)defarg('trialsperlevel',Inf);defarg('id',-1);levels = levels(:);if size(levels,1)<size(levels,2);	levels = levels';endtrialsrc.type='constim';         % typetrialsrc.levels=levels(:);      % stimulus levelstrialsrc.nmax=trialsperlevel;    % trials per stimulus leveltrialsrc.id=id;                  % trial source idtrialsrc.nlevels=size(levels,1); % number of stimulus levelstrialsrc.round=1;                % current sampling roundtrialsrc.iperm=1;                % index of next permuted level to returntrialsrc.perm=randperm(trialsrc.nlevels); % permutation of levelstrialsrc.trial=0;return