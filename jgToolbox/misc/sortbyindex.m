function [out] = sortbyindex(in,index,dim)% function [out] = sortbyindex(in,index,dim)%% sorts the matrix IN in the same fashion as a% previously sorted matrix with indeces INDEX.% the original matrix should be sorted along% one of the dimensions DIM with the matlab SORT% function.%	% in    -- the matrix to be sorted% index -- the indeces of the sorted matrix%          must be the same size as IN.% dim   -- the dimension along which the original%          matrix was sorted. default is 1.%% the original matrix must not exceed 2 dimensions. %% march 27 1999 jmgif nargin > 1	defarg('dim',1);	if size(in) == size(index)		out = zeros(size(in));		if dim > 0 & dim < 3			for j = 1:size(in,dim)				if dim == 1					out(:,j) = in(index(:,j),j);				elseif dim == 2					out(j,:) = in(j,index(j,:));				end				end		else			error('can only handle 1 or 1 dimensional matrices.');		end		else		error('input and index matrices must be the same size.');	end			else	error('not enough arguments passed.');endreturn;% not used hereif 0if nargin == 2	if size(in) == size(index)		out = zeros(size(in));			for i = 1:prod(size(index))			out(index(i)) = in(i);		end	endendend								