function donzloc(initials)% function donzloc(initials)%% shell that runs the noise localization experiment.% finds contrast thresholds according to method% of constant stimuli in a 2AFC design at arbitrary number of noise levels.% half of the trials have the same noise field in both% intervals (for consistency measure), randomly intermixed.%% 'initials' is the initials of the subject. %% so, for example, if pat was running the in the experiment, he would type:%%		>> doenzloc pjb%% the experiment is set up to probe 'numstimlevels' stimulus levels,  % with 'maxtrials' trials in both repeated and non-repeated noise % (a total of 2 x 'maxtrials' trials). you can adjust these parameters% below.%% all of the parameters in the experiment are saved in the headers of the % data files.%% consecutive sessions are saved in separate files, and % the file names are numbered appropriately if the files% are kept within matlab's search path.% the file names are labeled as follows:% [initials,session#,'nzlocÄ',gaborcpd,'.dat'];%% at the end of the experiment, the data analysis routine is% called and you are propted to confirm some parameters. just hit% 'ok' and your data will be spit out in a file and on a graph.%% Nov 6 1999 JMG U of T Vision Lab% set the pathjg setp fred;% check for initialsif nargin < 1	error('initials must be passed.');	return;end% parameters for individual subjects% these should be changed throughout the experimentif strcmp(initials,'amc')	gaborcpd = 2;	gaborcpw = 2*gaborcpd;	numshift = 0;	logrange = 3;elseif strcmp(initials,'pjb')	gaborcpd = 2;	gaborcpw = 2*gaborcpd;	numshift = 0;	logrange = 3;end% deafaults for parameters not assigned abovedefarg('mainscrs',max(screen('Screens')));defarg('maxtrials',31);defarg('gaborszdeg',5);defarg('gaborcpd',2);defarg('gaborcpw',gaborcpd*2);defarg('gaborphz', 0);defarg('gabororient', 0);defarg('noiselevels',[0,logspace(log10(5e-4),log10(.1),4)]);defarg('approxthresh',logspace(log10(1e-4),log10(.0075),length(noiselevels)));			defarg('numstimlevels',5);defarg('blocknz',0);defarg('numshift',0);			% this shifts the approxthresh estimates around in log spacedefarg('logrange',3);% the experiment[filename] = nzloc(initials,mainscrs,maxtrials,gaborszdeg,gaborcpd,gaborcpw,gaborphz,gabororient,noiselevels,approxthresh,numstimlevels,blocknz,numshift,logrange)% call fitting functiondopsymet(filename,pwd);% reset the pathjg setp oldpath; 