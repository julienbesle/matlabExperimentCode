function savevars(varargin)% function savevars(varargin)%% save 1-dimensional variables as text in the "readdata"% format. multidimensional data are skipped and a warning% is issued. variables are saved as their input names.% if the input has no name, it is assigned a dummy name % with the prefix 'var' (e.g., 'var1',% 'var2', etc.)%% First and second arguments are filename and path,% respectively.If the first argument is not a string with the% extension '.dat', it is assigned a default name ("data.dat").% If the second argument is not a string, the working% directory is used.%% If the file already exists it is overwritten.%% Feb 18 1999  JMGnumvars = length(varargin);if numvars > 0		if isstr(varargin{1}) & size(varargin{1}) > size('.dat') & ~(isempty(findstr('.dat',varargin{1})))		if numvars == 1			fprintf(1,'No variables sent.\n');			return;		end 			if isstr(varargin{2})					filename = varargin{1};			if exist(varargin{2},'dir') == 7				pathname = varargin{2};				start = 3;				if numvars == 2					fprintf(1,'No variables sent.\n');					return;				end			elseif exist([varargin{2},':'],'dir') == 7				pathname = [varargin{2},':'];				start = 3;							if numvars == 2					fprintf(1,'No variables sent.\n');					return;				end			else				pathname = pwd;				start = 2;			end		end	elseif numvars >= 1		filename = 'data.dat';		pathname = pwd;		start = 1;	end		% open the data file	fwid = fopen([pathname,filename],'w+');	nonamecounter = 1;	for i = start:numvars		temp = varargin{i};		% error checking		if size(temp,1) > 1 & size(temp,2) >1			fprintf(1,'Cannot save multi-dimensional data.\n');		elseif iscell(temp)			fprintf(1,'Cannot save cell arrays.\n');		elseif isstruct(temp)			fprintf(1,'Cannot save structures.\n');		elseif isobject(temp)			fprintf(1,'Cannot save objects.\n');		else			if size(temp,1)>size(temp,2);				temp = temp';			end			if isstr(temp)				temp = quotestring(temp);			else				temp = ['[',num2str(temp),']'];			end			if isempty(inputname(i))				savecommand(fwid,['var',num2str(nonamecounter),' = ',num2str(temp),';']);				nonamecounter = nonamecounter+1;			else				savecommand(fwid,[inputname(i),' = ',num2str(temp),';']);			end		end	end	fclose(fwid);else	fprintf(1,'No variables sent.\n')endreturn;