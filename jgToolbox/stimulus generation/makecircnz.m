% makecircnz.m% these are the parameters for the eqnoise study.% sz = 256;% center = [12 0];  with aaron's first run: center = [8 0];% mainrad = 7; % circrad = 3; % nfilt = 10;% seeds = [.8;2.1].*1e+09;   with aaron's first run: seeds = [.7;1.1].*1e+09;% nzchose = 1;sz = 256;center = [10 0]; % [10 10]mainrad = 1; % [2]circrad = 3; % [5]nfilt = 10;seeds = [.8;2.1].*1e+09;randn('state',seeds);nztype = 'diff';nzchose = 1;filttype = 'axis';if mainrad + circrad <= center(1) | filttype == 'axis'		if filttype == 'axis'		filts = makecircfilt(sz,nfilt,center,mainrad);	else		filts = makecircfilt(sz,nfilt,center,mainrad,[],circrad);	end		for i =1:nfilt		nz = cliprandn(sz,2);		if strcmp(nztype,'same')			eval(['images.nz',num2str(i),' = real(ifft2(fft2(nz).*fftunshift(filts.filt',num2str(nzchose),')));']);		else			eval(['images.nz',num2str(i),' = real(ifft2(fft2(nz).*fftunshift(filts.filt',num2str(i),')));']);		end		eval(['images.nz',num2str(i),' = images.nz',num2str(i),'* sqrt(.1/stdm(images.nz',num2str(i),')^2);']); 	end	if 0	%images = avemag(images,.1);	allimages1 = [];	allimages2 = [];	for i = 1:nfilt/2		eval(['allimages1 = [allimages1;images.nz',num2str(i),'];']);		eval(['allimages2 = [allimages2;images.nz',num2str(i+nfilt/2),'];']);	end	allimages = [allimages1,allimages2];	imshow(scale(allimages));	end	if 1	%imshow(scale(filts.filt1+filts.filt2+filts.filt3+filts.filt4+filts.filt5+filts.filt6+filts.filt7+filts.filt8+filts.filt9+filts.filt10));	for i = 1:nfilt		figure;		eval(['imshow(scale(images.nz',num2str(i),'));']);	end	tilefigs	endend