function newImage = getcenter(theImage,rows,cols)% function newImage = getcenter(theImage,rows,cols)%% Gets the center of an image. The number of rows and % columns to get is specified by ROWS and COLS.% If the ROWS or COLS exceeds their respective sizes in% the matrix to be cropped, the uncropped image is returned.% Default for COLS is ROWS.%% April 1998  JMG U of T Vision Lab if nargin>1	if nargin<3		cols=rows;	end	[oldRows,oldCols] = size(theImage);	center = floor([oldRows/2, oldCols/2]);	halfRows = floor(rows/2);	halfCols = floor(cols/2);	if rows <= oldRows & cols <= oldCols		if rem(rows,2) == 0			newImage = theImage(center(1)-halfRows+1:center(1)+halfRows,center(2)-halfCols+1:center(2)+halfCols);		else			newImage = theImage(center(1)-halfRows+1:center(1)+halfRows+1,center(2)-halfCols+1:center(2)+halfCols+1);		end			else		newImage = theImage;	end	else	fprintf(1,'Not enough parameters passed.\n');endreturn