function framemat = mksimpleoccrectmat( n, bglum, ...	rectwidthP, rectheightP, rectthickP, rectlum, ...	occsizeP, gapsizeP, occlum )% MKSIMPLEOCCRECTMAT  Make an occluded rectangle display%% framemat = mksimpleoccrectmat( n, bglum, ...%      rectwidthP, rectheightP, rectthickP, rectlum, ...%      occsizeP, gapsizeP, occlum )% 27-Sep-99 -- created;  adapted from mkoccrectmat.m% set default argumentsdefarg('n',256);defarg('bglum',30);defarg('rectwidthP',120);defarg('rectheightP',100);defarg('rectthickP',10);defarg('rectlum',50);defarg('occsizeP',80);defarg('gapsizeP',50);defarg('occlum',10);% initialize image matrixframemat=bglum*ones(n);frameRect=[ 0 0 n n ];% don't draw rectangle if thickness is zeroif rectthickP>0,	% make rectangle	rectmat=bglum*ones(rectheightP+2*rectthickP,rectwidthP+2*rectthickP);	rectmat(1:rectthickP,:)=rectlum;	rectmat(end-(rectthickP-1):end,:)=rectlum;	rectmat(:,1:rectthickP)=rectlum;	rectmat(:,end-(rectthickP-1):end)=rectlum;	figRect=[ 0 0 fliplr(size(rectmat))-1 ];	% draw rectangle to frame	figPos=centrerect(frameRect,figRect);	framemat(figPos(2):figPos(4),figPos(1):figPos(3))=rectmat;end% determine occluder regionsocc=centrerect(frameRect,[ 0 0 occsizeP occsizeP ]);shiftd=0.5*(occsizeP+gapsizeP);occRect{1}=shiftrect(occ,-shiftd,-shiftd);fullshiftd=occsizeP+gapsizeP;occRect{2}=shiftrect(occRect{1},+fullshiftd,0);occRect{3}=shiftrect(occRect{1},+fullshiftd,+fullshiftd);occRect{4}=shiftrect(occRect{1},0,+fullshiftd);% draw occludersfor i=1:4,	destRect=round(occRect{i});	framemat(destRect(2):destRect(4),destRect(1):destRect(3))=occlum;end% rotate entire figure to diamond position% framemat=imrotate(framemat,45);% framemat(find(framemat==0))=bglum;% show image% w=screen(0,'OpenWindow',0);% clut=[ lum2rgb(bglum) 1:255 ]'*ones(1,3);% screen(0,'SetClut',clut);% screen(w,'PutImage',lum2rgb(framemat));% wait;% screen('CloseAll');% clear framematreturn