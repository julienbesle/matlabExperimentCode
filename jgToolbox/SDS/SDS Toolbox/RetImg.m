function [ Ret ] = RetImg( Img )% RetImg - determine retinal image created by stimulus%%     [ Ret ] = RetImg( Img )%%     Img - external stimulus ( 15" / pixel )%     Ret - retinal image     ( 15" / pixel )%global PupilArea OptTrans PSF% multiply input function by pupil area and transmittance% ( in colour version, transmittance is a function of wavelength )Ret=PupilArea*OptTrans*Img;% convolve with point-spread function, normalized to volume of 1Ret=conv2(Ret,PSF,'same');return