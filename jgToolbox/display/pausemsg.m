function [ elapsedms, key ] = pausemsg( winID, msgstr, prepausems, gokeys, color )% PAUSEMSG  Print a message and wait for a mouse click.%% [ elapsedms, key ] = pausemsg( winID, msgstr, prepausems, gokeys )% set default argumentsdefarg('prepausems',0);defarg('gokeys','');defarg('color',190);% centre messageoldSize=screen(winID,'TextSize',30);centerstring(winID,msgstr,color);screen(winID,'TextSize',oldSize);% pause for <prepause> without taking inputstart=getsecs;while (1000*(getsecs-start))<prepausems,end% pause until key pressed or mouse clickedflushmouse;flushkeyboard;while 1,	[ x y b ] = getmouse;	if b,		key='mouse';		break	end	if charavail,		key=getchar;		if isempty(gokeys) | ismember(key,gokeys),			break		end	endend% determine elapsed time since <msgstr> appearedelapsedms=(getsecs-start)*1000;% clear screen smoothlypausems(500);cls(winID);pausems(500);return