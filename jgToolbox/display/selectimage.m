function imagechosen = selectimage(coords,quitcoords,ptr,cursorcoords)% function imagechosen = selectimage(coords,quitcoords,ptr,cursorcoords)flushevents('mouseUp','mouseDown');if exist('cursorcoords','var')	setmouse(cursorcoords(1),cursorcoords(2),ptr);	waitticks(1);endshowcursor(0);coords = [coords;quitcoords];imagechosen = 0;while ~imagechosen	[clicks,x,y] = getclicks(ptr);	for i = 1:size(coords,1)		imagechosen = i*IsInRect(x,y,coords(i,:));		if imagechosen			break		end	end	if ~imagechosen		sysbeep;	end	endhidecursor;% quit coordinatesif imagechosen == size(coords,1)	imagechosen = -1;endreturn