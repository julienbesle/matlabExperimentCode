function key = pollpause( winID, gokeys, pausemsg, postpause, polltime, clearscreen, color )% POLLPAUSE  Show fixation point if character is waiting on stdin%% pollpause( winID, gokeys )%     - <winID> is window where fixation point is shown%     - <gokeys> is list of allowable keys to be pressed (default='0')%          - use [] for mouse only% 13/04/98 - created (RFM)% poll for a key pressdefarg('polltime',0);secs = 0;basesecs = getsecs;while polltime >= secs	isavail = charavail;	secs = getsecs-basesecs;		end% return if no key pressedif ~charavail,	key=[];	returnend% set default argumentsdefarg('gokeys','0');defarg('pausemsg','');defarg('postpause',500);defarg('clearscreen',1);defarg('color', 190);% clear the screen; set to zero clut entryif clearscreen	screen(winID,'FillRect',0);end% show fixation point if key pressedwhile charavail,	key=getchar;	if ismember(key,gokeys),		if isempty(pausemsg),			key=fixpt(winID,gokeys,mouseflag,[]);		else			[ elapsed, key ]=pausemsg(winID,pausemsg,0,gokeys,color);		end		return	endend% key=1;pausems(postpause);return