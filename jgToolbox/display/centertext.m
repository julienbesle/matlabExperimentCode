function [newx,newy,oldtextsz] = centertext(ptr,scrrect,text,pixfromtop,color,textsz)% function [newx,newy,oldtextsz] = centertext(ptr,scrrect,text,pixfromtop,color,textsz)%% centers text horizontally for SCREEN display. ptr is the window pointer.% scrrect is the rect passed from SCREEN for the dimensions of the % window. text is the text to be displayed.  pixfromtop is the number% of pixels from the top of the display that the text will appear. default% is middle of the screen.  color is the CLUT index to assign the text.% default is 1. textsz is the point size of the text. default is the current% size. returns the new coordinates of the SCREEN pointer and old text size.% NOTE: function is much faster if all arguments are passed.%% July 2, 1998  JMG U of T Vision Lab% default colordefarg('color',1);defarg('pixfromtop',scrrect(4)/2);% set the text size if passedif exist('textsz','var')		oldtextsz=screen(ptr,'TextSize',textsz);end% display the textif nargin > 2	% get the width of the text	width = screen(ptr,'TextWidth',text);		% the horizontal location of the text	hloc = round((scrrect(3)-width)/2);	% draw the text	[newx,newy] = screen(ptr,'DrawText',text,hloc,pixfromtop,color);else	printstr('Not enough arguments.');end% set things back the way they wereif exist('textsz','var')	oldtextsz=SCREEN(ptr,'TextSize',oldtextsz);endreturn