function [selectwin,CLUT] = mkselectwinkeys(coords,redux,screenrect,lure,cal,scrptr,labels,color,points)% function [selectwin,CLUT] = mkselectwinkeys(coords,redux,screenrect,images,cal,scrptr,labels,color,points)% rect = [left top right bottom]if nargin>4	defarg('labels','');	defarg('scrpt',1);	defarg('color',190);	defarg('points',12);	% 	load set;	[set,names]=wordlist(lure);	scrw = screenrect(3);	scrh = screenrect(4);	selectwin = zeros(scrh,scrw);	% selection window	for i=1:length(names)		eval(['currimage = set.',names{i},';']);		currimage = imresize(currimage,redux);		selectwin(coords(i,2)+1:coords(i,4),coords(i,1)+1:coords(i,3))=currimage;	end	% make into a pixel image and clut	[selectwin,CLUT] = makeimage(selectwin,cal,color);	% keys		if length(labels) == length(names),		offscrPtrs = SCREEN(scrptr,'OpenOffscreenWindow',0);		screen(offscrPtrs,'PutImage',selectwin);		oldFontSize=SCREEN(offscrPtrs,'TextSize',points);						% rect = [left top right bottom]		for i=1:length(names)			currwidth = screen(offscrPtrs,'TextWidth',labels(i));						%vloc = floor(coords(i,2)-points);			hloc = floor(coords(i,1) + (coords(i,3)-coords(i,1)-currwidth)/2);			 			if coords(i,2) < scrh/2,				vloc = coords(i,4)+4+points;			else				vloc = coords(i,2)-4;			end				[newX,newY] = SCREEN(offscrPtrs,'DrawText',labels(i),hloc,vloc,1);		end			% get the selection window		[selectwin] = screen(offscrPtrs,'GetImage');	end	endreturn;