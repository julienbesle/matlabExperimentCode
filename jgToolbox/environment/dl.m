function dl(file,delfile,location)% function dl(file,delfile,location)%% Use with jg: jg dl <fileorfolder> <location>% General use: dl <masterfile> <fileorfolder> <location>% Delete a file or folder using the 'jg.m.' function% delfile is the file or folder to be deleted and location% is the shortcut for the folder that contains it.% if no location is passed, the current directory is used.% accepts wildcards. '*.*' erases ALL files in a directory.% there is a MATLAB bug where the results from the 'DIR'% command are not updated after mutiple deletes, even though% the files no longer exist. %% July 7, 1998  JMG U of T Vision Lab% November 15, 1998:  added wildcard functionality.md = pwd;if nargin < 1	file = 'jg.m';ends=findstr('.m',file);eval([file(1:s-1),' env;']);found = 0;fiderror = 1;if exist('location')	% get the paths from the shortcut	casestr = '			case ''';	gostr = ''', godir = ''';	fid = fopen(file,'r+');	str = location;	if fid ~= -1		envfound = 0;		if length(str) == length('env')			if str == 'env'				found=1;				envfound = 1;			end		end		if envfound == 0			while ~feof(fid) & ~found				temp = fgetl(fid);				if length(temp) >= length([casestr,str])					if temp(1:length([casestr,str])) == [casestr,str] 						location = temp(length([casestr,str,gostr])+1:end-2);						cd(location);								found = 1;								end				end			end		end		fclose(fid);	else		printstr('There was a problem opening the main file.');		printstr('Make sure it is not already open (e.g., being edited).');		fiderror = 0;		cd(md);	end	else	cd(md);	found = 1;end% delete the file if path was foundif found		% check for wildcards	wild = findstr(delfile,'*');		if isempty(wild)		if exist(delfile,'file')			delete(delfile);		else			printstr('File not found.');		end		elseif strcmp(delfile,'*.*')		prompt = input('Erase ALL files? (y/n)  ','s');		if lower(prompt) == 'y'						delete(delfile);			% manually			%filestruct = dir;			%for i = 1:length(filestruct)			%	printstr(filestruct(i,1).name);			%	delete(filestruct(i,1).name);			%end		end			elseif wild==1			filestruct = dir;		extension = delfile(2:end);		prompt = input(['Erase ALL files with extension ',quotestring(extension),'? (y/n)  '],'s');			if lower(prompt) == 'y'				delete(delfile);					% manually			%for i = 1:length(filestruct)			%	currfile = filestruct(i,1).name;			%	if length(currfile) > length(extension)			%		if strcmp(currfile(length(currfile)-length(extension)+1:end),extension)			%			printstr(currfile);			%			delete(currfile);			%		end			%	end			%end		end		else		printstr('Invalid use of ''*''.');	end		elseif fiderror	printstr('Path not found.');endprintstr(md);return