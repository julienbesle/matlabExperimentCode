function mv(file,srcfile,currentloc,destination)% function mv(file,srcfile,currentloc,destination)%% Use with jg: jg mv <sourcefile> <sourcelocation> <newlocation>% General use: mv <masterfile> <sourcefile> <sourcelocation> <newlocation>%% Move a file from one location to another using the 'jg' command.% file is the name of the file to be moved. currentloc is the% shortcut name of the folder where the file resides. destination is% the shortcut of the destination folder. %% July 3, 1998 JMG U of T Vision Lab% get the paths from the shortcutscasestr = '			case ''';gostr = ''', godir = ''';md = pwd;if nargin < 1	file = 'jg.m';ends=findstr('.m',file);eval([file(1:s-1),' env;']);fid = fopen(file,'r+');found1 = 0;found2 = 0;fiderror = 1;str = currentloc;if fid ~= -1		envfound = 0;	if length(str) == length('env')		if str == 'env'			currentlocpath = pwd;			found1=1;			envfound = 1;		end	end	if envfound == 0		while ~feof(fid) & ~found1			temp = fgetl(fid);			if length(temp) >= length([casestr,str])				if temp(1:length([casestr,str])) == [casestr,str]  					currentlocpath = temp(length([casestr,str,gostr])+1:end-2);					found1 = 1;							end			end			end	end	frewind(fid);	str = destination;	envfound = 0;	if length(str) == length('env')		if str == 'env'			destinationpath = pwd;			found2=1;			envfound = 1;		end	end	if envfound == 0		while ~feof(fid) & ~found2			temp = fgetl(fid);			if length(temp) >= length([casestr,str])				if temp(1:length([casestr,str])) == [casestr,str]  					destinationpath = temp(length([casestr,str,gostr])+1:end-2);								found2 = 1;				end			end			end	end	fclose(fid);else	printstr('There was a problem opening the main file.');	printstr('Make sure it is not already open (e.g., being edited).');	fiderror = 0;	cd(md);	printstr(md);end% move the file if both paths were foundif found1 & found2		eval([file(1:s-1),' ',currentloc]);	if exist(srcfile,'file')		amove(srcfile,destinationpath);	else		printstr('File not found.');	endelseif fiderror	printstr('One or more paths not found.');endreturn