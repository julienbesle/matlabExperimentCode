function short(file,shortfile,shortcut)% function short(file,shortfile,shortcut)% % USE WITH 'JG.m': jg ? <shortcutname>% GENERAL USE: short <masterfile> <shortcutname> <file with shortcuts>%% reveals a shortcut path from a file. % if none is passed, all are printed.% paths appear in the command window.% default shortfile is the masterfile ('file')%% July 5 1998  JMG U of T Vision Lab% the path indicator stringscasestr = '			case ''';gostr = ''', godir = ''';folderstr = ''', folder = ''';namestr = '''; name = ''';% see if file is passeddefarg('file','jg.m');s=findstr('.m',file);if isempty(s)	file = [file,'.m'];enddefarg('shortfile',file);s1=findstr('.m',shortfile);if isempty(s1)	shortfile = [shortfile,'.m'];end% get the current pathmd = pwd;fiderror = 0;% for only 1 shortcut requestedif exist('shortcut','var')==1	eval([file(1:s-1),' env;']);		fid = fopen(shortfile,'r+');	found = 0;	if fid ~= -1		while ~feof(fid) & ~found			temp = fgetl(fid);			if length(temp) >= length([casestr,shortcut])				if strcmp(temp(1:length([casestr,shortcut])),[casestr,shortcut])					printstr([shortcut,' = ',temp(length([casestr,shortcut,gostr])+1:end-2)]);						found = 1;				end			end		end		fclose(fid);			if ~found			printstr('Shortcut not found.');				end	else		fiderror = 1;	end% for all shortcutselse	eval([file(1:s-1),' env;']);	fid = fopen(shortfile,'r+');	if fid ~= -1		printstr;		printstr(['Shortcuts in file ',shortfile,':']);				if strcmp(lower(shortfile),'open.m')			while ~feof(fid)				temp = fgetl(fid);				if length(temp) >= length([casestr])					if strcmp(temp(1:length([casestr])),casestr)						locfoldstr=findstr(temp,folderstr);						shortcut=temp(length(casestr)+1:locfoldstr-1);						locnamestr = findstr(temp,namestr);						shortpath=[temp(locfoldstr+length(folderstr):locnamestr-1),temp(locnamestr+length(namestr):end-2)];						printstr([shortcut,' = ',shortpath]);						end				end			end			fclose(fid);			else			while ~feof(fid)				temp = fgetl(fid);				if length(temp) >= length([casestr])					if strcmp(temp(1:length([casestr])),casestr)						locgostr=findstr(temp,gostr);						shortcut=temp(length(casestr)+1:locgostr-1);						printstr([shortcut,' = ',temp(locgostr+length(gostr):end-2)]);						end				end			end			fclose(fid);		end			else		fiderror = 1;	endend% fid error handlingif fiderror	printstr('There was a problem opening the main file.');	printstr('Make sure it is not already open (e.g., being edited).');	printstr(md);end% return to original pathcd(md);return