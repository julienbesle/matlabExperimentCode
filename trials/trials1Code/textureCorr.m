load images.mat;nznames={'nz1';'nz2';'nz3';'nz4';'nz5';'nz6';'nz7';'nz8';'nz9';'nz10'};[numnz,kk]=size(nznames);for kk=1:numnz	nzstim(kk).nz=eval(['images.',char(nznames(kk))]);	nzstim(kk).nz=nzstim(kk).nz*sqrt(1/var(nzstim(kk).nz(:))); % set variance to 1end;f=1;corrMatrix=zeros(10,10);for row=1:10	for col=1:10		correlation=corrcoef(nzstim(row).nz, nzstim(col).nz);			corrMatrix(row,col)=correlation(1,2);	endend[sortMat, index]=sort(corrMatrix,1,'descend');allflat=corrMatrix(:);allflat=allflat(abs(allflat-1)>1e-6);flatCorr=[];for kk=1:size(corrMatrix,1)    flatCorr=[flatCorr; corrMatrix(1:kk,kk)];endflatCorr=flatCorr(abs(flatCorr-1)>1e-6);% 	for m=1:10 figure; imshow(scale(images.(['nz' num2str(m)]))); end%     tilefigs		