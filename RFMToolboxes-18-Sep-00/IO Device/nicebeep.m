function wave = nicebeep( freq, ms, amp, play )% NICEBEEP  Play a sine wave windowed at onset and offset%% wave = nicebeep( freq, ms, amp, play )% 28-Jan-98 -- created (RFM)% set default argumentsdefarg('amp',1);defarg('play',1);% convert to Hzif ischar(freq),	freq=notefreq(freq);end% get an unwindowed sine wavewave=sinebeep(freq,ms,amp,0);waven=size(wave,2);% determine ramp lengthrampsize=3*round(8192/freq);  % 2 wavelengthsramp=0:(1/(rampsize-1)):1;% ramp the sine wave linearly at onset and offsetwave(1:rampsize)=wave(1:rampsize).*ramp;wave(waven-(rampsize-1):waven)=wave(waven-(rampsize-1):waven).*fliplr(ramp);% play if flaggedif play==1,	sound(wave);endreturn