function thetamod = degmod( theta )% DEGMOD  Convert an angle to its equivalent in ( -180, 180 ].%% thetamod = degmod( theta )% 19-Aug-98 -- MATLAB's mod function bypassed (RFM)thetamod = theta+(floor((-theta/360)-0.5)+1)*360;% NOTE 1% The above formula is a straightforward simplification of%%      thetamod = 180-((-(theta+180))-floor((-(theta+180))/360)*360);%% which is in turn an explicit form of%%      thetamod = 180-mod(-(theta+180),360);%% directly substituting mod(x,y)=x-floor(x/y)*y.  MATLAB's mod function% handles cases where y is fractional or zero, and these cases don't% arise here.  This implementation is slightly faster, since it doesn't% handle them.% NOTE 2% If we use the more obvious mod(theta+180,360)-180, then 180 is mapped% to -180.  The function used here maps 180 to 180, and differs from the% obvious function only at that point.return