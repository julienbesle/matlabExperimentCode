function [ elapsedms, key ] = pausemsg( winID, msgstr, prepausems, gokeys, postpause )% PAUSEMSG  Print a message and wait for a mouse click.%% [ elapsedms, key ] = pausemsg( winID, msgstr, prepausems, gokeys )% set default argumentsdefarg('msgstr','Press any key to continue');defarg('prepausems',500);defarg('gokeys','');defarg('postpause',1);% centre messageoldSize=screen(winID,'TextSize',30);cls(winID,0);centerstring(winID,msgstr);screen(winID,'TextSize',oldSize);% pause for <prepause> without taking inputstart=getsecs;while (1000*(getsecs-start))<prepausems,end% pause until key pressed or mouse clickedflushmouse;flushkeyboard;while 1,	[ x y b ] = getmouse;	if b,		key='mouse';		break	end	if charavail,		key=getchar;		if isempty(gokeys) | ismember(key,gokeys),			break		end	endend% determine elapsed time since <msgstr> appearedelapsedms=(getsecs-start)*1000;% clear screen smoothlyif postpause,	pausems(500);	cls(winID);	pausems(500);endreturn