function darkpause( winID, seconds, msg, postmsg )% DARKPAUSE  Let subject pause for dark-adaptation before an experiment%% darkpause( seconds )% 27-Feb-98 -- created (RFM)% set default argumentsdefarg('seconds','');defarg('msg','');defarg('postmsg','Press any key to begin');if isempty(seconds),	seconds=180;endif isempty(msg),	msg='Pause for dark-adaptation';end% print messageoldSize=screen(winID,'TextSize',30);centerstring(winID,msg);screen(winID,'TextSize',oldSize);% wait, but let user press 'q' to bypass the waituserquit=0;flushkeyboard;start=getsecs;while (getsecs-start)<seconds,	if charavail,		if lower(getchar)=='q',			userquit=1;			break		end	endendcls(winID);nicebeep('3c',200);% display name of experimental conditionif ~userquit,	pausemsg(winID,postmsg);endreturn