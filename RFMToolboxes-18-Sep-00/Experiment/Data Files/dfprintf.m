function dfprintf( varargin )% DFPRINTF  Write to a data file%% dfprintf( [ fid, ] formatstr, arg1, ... )% 11-Oct-98 -- created (RFM)global df% decode argumentsif ~ischar(varargin{1}),	fid=varargin{1};	formatstr=varargin{2};	args={ varargin{3:end} };else	fid=df.fid;	formatstr=varargin{1};	args={ varargin{2:end} };end% write to buffer or fileif df.bufferflag,	df.bufferi=df.bufferi+1;	df.buffer{df.bufferi}=sprintf(formatstr,args{:});else	fprintf(fid,formatstr,args{:});end% echo to main window, if in debug modeif ~isempty(df.debug),% 	dest=ifso(df.bufferflag,'b','f');% 	fprintf(1,[ '%s:  ' formatstr ],dest,args{:}); 	fprintf(1,formatstr,args{:});endreturn