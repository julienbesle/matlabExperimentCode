function [ newsrc, level, id ] = gettrial( src )% GETTRIAL  Poll a constim trial source%% [ newsrc, level, id ] = gettrial( src )% 28-Jan-98 -- created (RFM)% 27-Sep-98 -- made object-oriented (RFM)id=src.id;if isdone(src),	level=NaN;else	src.trial=src.trial+1;	level=src.levels(src.perm(src.iperm));	src.iperm=src.iperm+1;	if src.iperm>src.nlevels,		src.iperm=1;		src.perm=randperm(src.nlevels);		src.round=src.round+1;	endendnewsrc=src;return