/*circ2d.c -- make a 2D circleMATLAB usage:  circmat = circ2d( r )19/11/97 -- created (RFM)This is a BAD implementation.  It is very inefficient.*/#include "mex.h"#include <math.h>/* prototypes */mxArray *circ2d(int r);/* gateway function */void mexFunction(int nlhs,mxArray *plhs[],int nrhs,const mxArray *prhs[]) {	/* check number and type of arguments */	/* get parameters */	int r = (int)mxGetScalar(prhs[0]);	plhs[0] = circ2d(r);	return;		}/* core routine */mxArray *circ2d(int r) {	int i,j;	int N=(2*r)+1;	int nColOffset;	mxArray *pCircArr = mxCreateDoubleMatrix(N,N,mxREAL);	double *pCircMat = mxGetPr(pCircArr);	for(j=0;j<N;j++) {		nColOffset=j*N;		for(i=0;i<N;i++)			*(pCircMat+i+nColOffset)=( ((r-i)*(r-i)+(r-j)*(r-j) )<((r+0.5)*(r+0.5)) );		}		return( pCircArr );	}