function newclut = setisolumclut( bglum, maxcst )% SETISOLUMCLUT  Make an isoluminant clut%% newclut = setisolumclut( bglum, maxcst )% 29-Oct-99 -- created (RFM)% set default argumentsdefarg('bglum',35);defarg('maxcst',0.25);global CLUT% record background luminance and rangeCLUT.bglum=bglum;CLUT.minlum=bglum*(1-maxcst);CLUT.maxlum=bglum*(1+maxcst);% set clutCLUT.mat(1,:)=lum2rgb(bglum);green=lum2grey(linspace(bglum*(1-maxcst/0.6),bglum*(1+maxcst/0.6),255));red=lum2grey(linspace(bglum*(1+maxcst/0.3),bglum*(1-maxcst/0.3),255));CLUT.mat(2:end,:)=[ red' green' CLUT.mat(1,3)*ones(255,1) ];newclut=CLUT.mat;return