function cdf = empcdf( dataset )% empcdf - calculate empirical CDF of a dataset%% cdf = empcdf( dataset )%     - <dataset> is dataset to be analyzed%     - <emp> is constructed so that emp(:,2) = cdf(emp(:,1))% sort dataset and find its sizedataset=sort(dataset(:));N=size(dataset,1);% step through dataset point by point, adding 1/N to the CDF value of% each successive pointold=NaN;j=1;cdf=[ 0 0 ];for i=1:N,	if dataset(i)~=old,		j=j+1;		cdf = [ cdf ; dataset(i), cdf(j-1,2)+1/N ];		old=dataset(i);	else		cdf(j,2)=cdf(j,2)+1/N;	endend% take meaningful part of cdfcdf=cdf(2:end,:);return